
Problems on the server
======================

* No diskspace. The root filesystem was filled up with a deleted (lsof -nP +L1)
  file descriptor hogging all the space. I ended up truncating the file
  descriptor to reclaim some space. The provisioning tool was modified to perform
  a diskspace check (000-check-diskspace.sh) and halt provisioning if there
  is too little space on the root filesystem.

* Unable to resolve hostnames. The /etc/resolv.conf contained 127.0.0.1 but the
  local bind/named wasn't functioning. I added a check to the provisioning tool,
  for basic internet connectivity (001-check-network.sh). Failing this check
  aborts the provisioning of that server.

* Apache wouldn't start. There was a netcat process already bound to port
  80. I killed it and apache still wouldn't start so I modified the install
  process, to also include an initial purge step, so that existing configurations
  of apache get removed, and a fresh set of config files gets deployed.

* The firewall seemed to not be functioning. I added a flush (iptables -F) of
  the firewall rules to the provisioning script (020-firewall.sh).
  Unfortunately - for reasons I don't understand - this killed my access to the
  box. Normally this leaves you with a box that has no firewall... perhaps the
  default was configured to be a default DENY. I'm not sure :( I've removed the
  flush in the meantime.
